<% provide(:title, 'All users') %>
<!-- Title -->
<div class="row-fluid px-1 px-sm-4 pt-3 text-dark text-center">
  <h2 class="text-dark d-none d-sm-block"><strong>1social</strong> users</h1>
  <h3 class="text-dark d-block d-sm-none"><strong>1social</strong> users</h2>
</div>
<!-- ./Title -->

<!-- Search Field -->
<div class="row-fluid p-2">
  <%= form_tag users_path, method: :get do %>
  <div class="input-group mb-2" style="width:100%;">
    <div class="input-group-prepend">
      <div class="input-group-text">@</div>
    </div>
      <%= text_field_tag 'term', params[:term], placeholder: "Enter the whole or part of the username", class: "form-control" %>
      <div class="input-group-append">
        <%= submit_tag "Search", class: "btn btn-sm btn-success" %>
      </div>
  </div>
  <% end %>
</div>
<!-- ./Search Field -->


<!-- Paginated content -->
<div class="row px-3">
    <% @users.each do |user| %>
      <div class="list-inline">
        <li class="list-inline-item">
        <%= link_to "@#{user.name}", "/#{user.name}", class: "btn btn-light m-2"%>
        </li>
      </div>
      <%# If admin offer delete option %>
      <%# if !current_user.nil? && current_user.admin? && !current_user?(user) %>
        <%# <span> | </span>%>
        <%# link_to "delete", user, method: :delete,data: { confirm: "You sure?" } %>
      <%# end %>
    <% end %>
</div>
<!-- ./Paginated content -->

<!-- Pagination links -->
<div class="row pt-3 justify-content-center text-dark">
  <%= will_paginate @users, previous_label: raw("&lsaquo;"), next_label: raw("&rsaquo;") %>
  <script type="text/javascript">
    $("ul.pagination li").addClass("page-item");
	  $("ul.pagination li a").addClass("page-link");
  </script>
</div>
<!-- ./Pagination links -->

<div class="row-fluid px-2 pt-3 pb-5 text-center">
  <%= link_to "All Users", users_path, class: "btn btn-lg btn-light" %>
</div>
